<br>

<div class="container">
  <div class="row ">
    <!-- Buscador-->
    <div class="col-sm">
      <div class="input-group">
        <input class="form-control we-form-control" type="text" name="" placeholder="Buscar...">
        <button class="btn we-btn " id="buscador" type="button">
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z" />
            <path fill-rule="evenodd"
              d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Boton para filtrar por categorías -->
    <div class="col-sm">
      <div class="dropdown">
        <button class="btn " id="categories" type="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">Categorías
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-funnel-fill" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z" />
          </svg>
        </button>

        <!--Categorías-->
        <div class="dropdown-menu" aria-labelledby="categories">
          <div class="form-check dropdown-item" *ngFor="let category of categories">
            <input class="form-check-input" type="checkbox" id="checkbox{{category.id}}" value="{{category.name}}">
            <label class="form-check-label" for="checkbox{{category.id}}">{{category.name}}</label>
          </div>
        </div>
      </div>
    </div>

    <!-- Barra de progreso -->
    <div class="col-sm">
      <h6 style="color: #26517C;">Progreso</h6>
      <div class="progress">
        <div class="progress-bar" role="progressbar" style="width: 50%;background-color: #F6901B;" aria-valuenow="25"
          aria-valuemin="0" aria-valuemax="100">50%</div>
      </div>
    </div>
  </div>
</div>

<br />

<!-- tablero -->
<div class="container">

  <!-- Navegación del tablero -->
  <nav>
    <div class="nav nav-tabs board-nav-container" id="nav-tab" role="tablist">
      <div *ngFor="let state of states">
        <a class="nav-link board-nav active" id="nav-{{state.name}}-state-tab" data-toggle="tab" href="#nav-{{state.name}}-state" role="tab"
          aria-controls="nav-{{state.name}}-state" aria-selected="true">
          {{state.name}} <span class="badge badge-light ml-2"> {{ tasksToDo.length }} </span>
        </a>
      </div>
      <div class="dropdown">
        <button class="btn we-btn-crear ml-2" (click)="openCreateModal();" type="button" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          Crear
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <!-- tablero de tareas -->
  <div class="tab-content board-task container-fluid text-center scroll" id="nav-tabContent">

    <!-- contenedor de tareas en "tasksToDo" -->
    <div class="tab-pane fade show active" id="nav-to do-state" role="tabpanel" aria-labelledby="nav-todo-state-tab">
      <div class="card-deck">
        <div class="task mt-1 mb-1 mr-1 ml-1" *ngFor="let task of tasksToDo">
          <a class="task-left" (click)="openEditModal(task);"> {{ task.title }} </a>
          <button class="task-right" type="button" (click)="updateStateTask(task)">
            <svg width="50%" height="50%" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg0">
              <path fill-rule="evenodd"
                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- contenedor de tareas en "tasksDoing" -->
    <div class="tab-pane fade" id="nav-doing-state" role="tabpanel" aria-labelledby="nav-doing-state-tab">
      <div class="card-deck">
        <div class="task mt-1 mb-1 mr-1 ml-1" (click)="tarea()" *ngFor="let task of tasksDoing">
          <a class="task-left" (click)="openEditModal(task);"> {{ task.title }} </a>
          <button class="task-right" type="button" (click)="updateStateTask(task)">
            <svg width="50%" height="50%" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg0">
              <path fill-rule="evenodd"
                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- contenedor de tareas en tasksDone -->
    <div class="tab-pane fade " id="nav-done-state" role="tabpanel" aria-labelledby="nav-done-state-tab">
      <div class="card-deck">
        <div class="task mt-1 mb-1 mr-1 ml-1" (click)="tarea()" *ngFor="let task of tasksDone">
          <a class="task-left" (click)="openEditModal(task);"> {{ task.title }} </a>
          <button class="task-right" type="button" (click)="updateStateTask(task)">
            <svg width="50%" height="50%" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg0">
              <path fill-rule="evenodd"
                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
            </svg>
          </button>
        </div>
      </div>

    </div>
  </div>
</div>


<!-- 
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //////////////////////////////////////////////// modales para el CRUD ////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
-->

<!-- Modal para crear tareas -->
<div class="modal fade" id="modalCreateTask" tabindex="-1">

  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header we-modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <form>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Titulo" name="title" #title>
          </div>
          <div class="form-group">
            <textarea class="form-control" placeholder="Descripción" rows="3" #description></textarea>
          </div>
          <div class="form-group">
            <select class="form-control">
              <option>Categorías</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
            </select>
          </div>
          <div class="form-group">
            <input class="form-control" type="datetime-local" width="100%" placeholder="Fecha" #expiration_date>
          </div>
          <div class="form-group">
            <select class="form-control">
              <option>Etiquetas</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
            </select>
          </div>
        </form>

      </div>

      <div class="modal-footer we-modal-footer justify-content-center">
        <button type="button" class="btn we-btn-success mr-5" style="width: 30%;"
          (click)="createTask(title.value, description.value, expiration_date.value )">Crear</button>
        <button type="button" class="btn we-btn-danger ml-5" data-dismiss="modal" style="width: 30%;">Cancelar</button>
      </div>

    </div>
  </div>

</div>

<!-- Modal para editar tareas -->
<div class="modal fade" id="modalEditTask" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">

  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header we-modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">

        <form>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Titulo" #title>
          </div>
          <div class="form-group">
            <textarea class="form-control" placeholder="Descripción" rows="3" #description></textarea>
          </div>
          <div class="form-group">
            <select class="form-control">
              <option>Categorías</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
            </select>
          </div>
          <div class="form-group">
            <input class="form-control" type="datetime-local" width="100%" placeholder="Fecha" #expiration_date>
          </div>
          <div class="form-group we-form-group-tag">
              <select class="form-control we-form-control-tag">
                <option>Etiquetas</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <button class="btn we-btn-tag" (click)="tagList()">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-tags-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M3 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 7.586 1H3zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                  <path d="M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"/>
                </svg>
              </button>
          </div>
        </form>

      </div>

      <div class="modal-footer we-modal-footer justify-content-center">
        <button type="button" class="btn we-btn-success mr-4" style="width: 30%;">Crear</button>
        <button type="button" class="btn we-btn-secundary ml-4" data-dismiss="modal"
          style="width: 30%;">Cancelar</button>
        <button type="button" class="btn we-btn-danger" data-dismiss="modal" style="width: 80%;"
          (click)="openConfirmModal()">Eliminar </button>

      </div>

    </div>
  </div>

</div>


<!-- Modal para la confirmacion de eliminar tareas-->
<div class="modal fade" id="confirmDeleteModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body text-center">
        ¿Estas seguro de eliminar esta tarea?
      </div>
      <div class="modal-footer we-modal-footer justify-content-center">
        <button type="button" class="btn we-btn-danger w-25" data-dismiss="modal">Si</button>
        <button type="button" class="btn we-btn-success w-25" data-dismiss="modal">No</button>
      </div>
    </div>
  </div>
</div>
<!-- 
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //////////////////////////////////////////////// modales para el CRUD de las etiquetas////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 
-->
<!-- Modal lista de etiquetas -->
<div class="modal" id="tagModal"   >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header we-modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4 class="text-center" style="color: var(--we-blue);">Mis etiquetas</h4>
        <form class="we-form-control-tag">
          <!-- Primera Etiqueta-->
          <input class="btn we-btn-taglist" type="button" value="Etiqueta 1">
          <button (click)="openEditModalTag()" class="btn we-btn-edit-tag">       
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
            </svg>
          </button>
          <button class="btn we-btn-delete-tag">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"/>
            </svg>
          </button>
          <!-- Segunda Etiqueta -->
          <input class="btn we-btn-taglist" type="button" value="Etiqueta 2">
          <button (click)="openEditModalTag()" class="btn we-btn-edit-tag">       
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
            </svg>
          </button>
          <button class="btn we-btn-delete-tag">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"/>
            </svg>
          </button>
          <!-- Tercera Equiteta -->
          <input  class="btn we-btn-taglist" type="button" value="Etiqueta 3">
          <button (click)="openEditModalTag()" class="btn we-btn-edit-tag">       
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
            </svg>
          </button>
          <button class="btn we-btn-delete-tag">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"/>
            </svg>
          </button>
        </form>
      </div>
      <!-- Botones de la lista de etiquetas-->
      <div class="text-center">
        <button (click)="opencreateModalTag()" type="button" class="btn we-btn-create-taglist"> Crear etiqueta</button>
      </div>
    </div>  
  </div>
</div>  

<!-- Modal Editar las etiquetas -->
<div class="modal" id="editModalTag">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header we-modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4 class="text-center" style="color: var(--we-blue);">Editar Etiqueta</h4>
        <form class="we-form-control-tag">
          <!-- Nombre de la etiqueta-->
          <input class="btn we-btn-edittag" type="text" value="nombre de la etiqueta">
          <input class="btn we-btn-edittag" type="button" value="Personalizar color">
          <div class="text-center">
            <button type="button" class="btn we-btn-save-edittag"> Guardar</button>
            <button type="button" class="btn we-btn-cancel-edittag"> Cancelar</button>
          </div>
        </form>
      </div>
      <!-- Botones de la lista de etiquetas-->
    </div>  
  </div>
</div>  

<!-- Modal Crear las etiquetas -->
<div class="modal" id="createModalTag">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header we-modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4 class="text-center" style="color: var(--we-blue);">Crear etiqueta</h4>
        <form class="we-form-control-tag">
          <!-- Nombre de la etiqueta-->
          <input class="btn we-btn-edittag" type="text" value="nombre de la etiqueta">
          <input class="btn we-btn-edittag" type="button" value="Personalizar color">
          <div class="text-center">
            <button type="button" class="btn we-btn-save-edittag"> Crear</button>
            <button type="button" class="btn we-btn-cancel-edittag"> Cancelar</button>
          </div>
        </form>
      </div>
      <!-- Botones de la lista de etiquetas-->
    </div>  
  </div>
</div>  